"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{77530:(e,t,r)=>{r.d(t,{n1:()=>c,N$:()=>I,Pu:()=>m});var n=r(44193),s=r(80243),i=r(8858),o=r(12115);let u=o.createContext(null),a="react-aria-focus-scope-restore",l=null;function c(e){let t,r,{children:n,contain:c,restoreFocus:d,autoFocus:h}=e,f=(0,o.useRef)(null),m=(0,o.useRef)(null),S=(0,o.useRef)([]),{parentNode:O}=(0,o.useContext)(u)||{},w=(0,o.useMemo)(()=>new C({scopeRef:S}),[S]);(0,i.N)(()=>{let e=O||x.root;if(x.getTreeNode(e.scopeRef)&&l&&!y(l,e.scopeRef)){let t=x.getTreeNode(l);t&&(e=t)}e.addChild(w),x.addNode(w)},[w,O]),(0,i.N)(()=>{let e=x.getTreeNode(S);e&&(e.contain=!!c)},[c]),(0,i.N)(()=>{var e;let t=null===(e=f.current)||void 0===e?void 0:e.nextSibling,r=[],n=e=>e.stopPropagation();for(;t&&t!==m.current;)r.push(t),t.addEventListener(a,n),t=t.nextSibling;return S.current=r,()=>{for(let e of r)e.removeEventListener(a,n)}},[n]),(0,i.N)(()=>{if(d||c)return;let e=S.current,t=(0,s.T)(e?e[0]:void 0),r=e=>{let t=e.target;b(t,S.current)?l=S:R(t)||(l=null)};return t.addEventListener("focusin",r,!1),null==e||e.forEach(e=>e.addEventListener("focusin",r,!1)),()=>{t.removeEventListener("focusin",r,!1),null==e||e.forEach(e=>e.removeEventListener("focusin",r,!1))}},[S,d,c]),t=(0,o.useRef)(void 0),r=(0,o.useRef)(void 0),(0,i.N)(()=>{let e=S.current;if(!c){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}let n=(0,s.T)(e?e[0]:void 0),i=e=>{if("Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||!v(S)||e.isComposing)return;let t=n.activeElement,r=S.current;if(!r||!b(t,r))return;let s=I(p(r),{tabbable:!0},r);if(!t)return;s.currentNode=t;let i=e.shiftKey?s.previousNode():s.nextNode();i||(s.currentNode=e.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,i=e.shiftKey?s.previousNode():s.nextNode()),e.preventDefault(),i&&E(i,!0)},o=e=>{(!l||y(l,S))&&b(e.target,S.current)?(l=S,t.current=e.target):v(S)&&!R(e.target,S)?t.current?t.current.focus():l&&l.current&&g(l.current):v(S)&&(t.current=e.target)},u=e=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(n.activeElement&&v(S)&&!R(n.activeElement,S)){if(l=S,n.body.contains(e.target)){var r;t.current=e.target,null===(r=t.current)||void 0===r||r.focus()}else l.current&&g(l.current)}})};return n.addEventListener("keydown",i,!1),n.addEventListener("focusin",o,!1),null==e||e.forEach(e=>e.addEventListener("focusin",o,!1)),null==e||e.forEach(e=>e.addEventListener("focusout",u,!1)),()=>{n.removeEventListener("keydown",i,!1),n.removeEventListener("focusin",o,!1),null==e||e.forEach(e=>e.removeEventListener("focusin",o,!1)),null==e||e.forEach(e=>e.removeEventListener("focusout",u,!1))}},[S,c]),(0,i.N)(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r]),function(e,t,r){let n=(0,o.useRef)("undefined"!=typeof document?(0,s.T)(e.current?e.current[0]:void 0).activeElement:null);(0,i.N)(()=>{let n=e.current,i=(0,s.T)(n?n[0]:void 0);if(!t||r)return;let o=()=>{(!l||y(l,e))&&b(i.activeElement,e.current)&&(l=e)};return i.addEventListener("focusin",o,!1),null==n||n.forEach(e=>e.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),null==n||n.forEach(e=>e.removeEventListener("focusin",o,!1))}},[e,r]),(0,i.N)(()=>{let n=(0,s.T)(e.current?e.current[0]:void 0);if(!t)return;let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!v(e)||t.isComposing)return;let r=n.activeElement;if(!R(r,e)||!N(e))return;let s=x.getTreeNode(e);if(!s)return;let i=s.nodeToRestore,o=I(n.body,{tabbable:!0});o.currentNode=r;let u=t.shiftKey?o.previousNode():o.nextNode();if(i&&n.body.contains(i)&&i!==n.body||(i=void 0,s.nodeToRestore=void 0),(!u||!R(u,e))&&i){o.currentNode=i;do u=t.shiftKey?o.previousNode():o.nextNode();while(R(u,e));(t.preventDefault(),t.stopPropagation(),u)?E(u,!0):R(i)?E(i,!0):r.blur()}};return r||n.addEventListener("keydown",i,!0),()=>{r||n.removeEventListener("keydown",i,!0)}},[e,t,r]),(0,i.N)(()=>{var r;let i=(0,s.T)(e.current?e.current[0]:void 0);if(!t)return;let o=x.getTreeNode(e);if(o)return o.nodeToRestore=null!==(r=n.current)&&void 0!==r?r:void 0,()=>{let r=x.getTreeNode(e);if(!r)return;let n=r.nodeToRestore;if(t&&n&&(i.activeElement&&R(i.activeElement,e)||i.activeElement===i.body&&N(e))){let t=x.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let r=t.getTreeNode(e);for(;r;){if(r.nodeToRestore&&r.nodeToRestore.isConnected){Q(r.nodeToRestore);return}r=r.parent}for(r=t.getTreeNode(e);r;){if(r.scopeRef&&r.scopeRef.current&&x.getTreeNode(r.scopeRef)){Q(T(r.scopeRef.current,!0));return}r=r.parent}}})}}},[e,t])}(S,d,c),function(e,t){let r=o.useRef(t);(0,o.useEffect)(()=>{r.current&&(l=e,!b((0,s.T)(e.current?e.current[0]:void 0).activeElement,l.current)&&e.current&&g(e.current)),r.current=!1},[e])}(S,h),(0,o.useEffect)(()=>{let e=(0,s.T)(S.current?S.current[0]:void 0).activeElement,t=null;if(b(e,S.current)){for(let r of x.traverse())r.scopeRef&&b(e,r.scopeRef.current)&&(t=r);t===x.getTreeNode(S)&&(l=t.scopeRef)}},[S]),(0,i.N)(()=>()=>{var e,t,r;let n=null!==(r=null===(t=x.getTreeNode(S))||void 0===t?void 0:null===(e=t.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==r?r:null;(S===l||y(S,l))&&(!n||x.getTreeNode(n))&&(l=n),x.removeTreeNode(S)},[S]);let L=(0,o.useMemo)(()=>({focusNext(e={}){let t=S.current,{from:r,tabbable:n,wrap:i,accept:o}=e,u=r||(0,s.T)(t[0]).activeElement,a=t[0].previousElementSibling,l=I(p(t),{tabbable:n,accept:o},t);l.currentNode=b(u,t)?u:a;let c=l.nextNode();return!c&&i&&(l.currentNode=a,c=l.nextNode()),c&&E(c,!0),c},focusPrevious(e={}){let t=S.current,{from:r,tabbable:n,wrap:i,accept:o}=e,u=r||(0,s.T)(t[0]).activeElement,a=t[t.length-1].nextElementSibling,l=I(p(t),{tabbable:n,accept:o},t);l.currentNode=b(u,t)?u:a;let c=l.previousNode();return!c&&i&&(l.currentNode=a,c=l.previousNode()),c&&E(c,!0),c},focusFirst(e={}){let t=S.current,{tabbable:r,accept:n}=e,s=I(p(t),{tabbable:r,accept:n},t);s.currentNode=t[0].previousElementSibling;let i=s.nextNode();return i&&E(i,!0),i},focusLast(e={}){let t=S.current,{tabbable:r,accept:n}=e,s=I(p(t),{tabbable:r,accept:n},t);s.currentNode=t[t.length-1].nextElementSibling;let i=s.previousNode();return i&&E(i,!0),i}}),[]),F=(0,o.useMemo)(()=>({focusManager:L,parentNode:w}),[w,L]);return o.createElement(u.Provider,{value:F},o.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:f}),n,o.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:m}))}let d=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],h=d.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";d.push('[tabindex]:not([tabindex="-1"]):not([disabled])');let f=d.join(':not([hidden]):not([tabindex="-1"]),');function p(e){return e[0].parentElement}function v(e){let t=x.getTreeNode(l);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function b(e,t){return!!e&&!!t&&t.some(t=>t.contains(e))}function R(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of x.traverse(x.getTreeNode(t)))if(r&&b(e,r.current))return!0;return!1}function m(e){return R(e,l)}function y(e,t){var r;let n=null===(r=x.getTreeNode(t))||void 0===r?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function E(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch{}}else try{(0,n.l)(e)}catch{}}function T(e,t=!0){let r=e[0].previousElementSibling,n=p(e),s=I(n,{tabbable:t},e);s.currentNode=r;let i=s.nextNode();return t&&!i&&((s=I(n=p(e),{tabbable:!1},e)).currentNode=r,i=s.nextNode()),i}function g(e,t=!0){E(T(e,t))}function N(e){let t=x.getTreeNode(l);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}function Q(e){e.dispatchEvent(new CustomEvent(a,{bubbles:!0,cancelable:!0}))&&E(e)}function I(e,t,r){let n=(null==t?void 0:t.tabbable)?f:h,i=(0,s.T)(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null==t?void 0:null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:e.matches(n)&&function e(t,r){return"#comment"!==t.nodeName&&function(e){let t=(0,s.m)(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,i="none"!==r&&"hidden"!==n&&"collapse"!==n;if(i){let{getComputedStyle:t}=e.ownerDocument.defaultView,{display:r,visibility:n}=t(e);i="none"!==r&&"hidden"!==n&&"collapse"!==n}return i}(t)&&!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&("DETAILS"!==t.nodeName||!r||"SUMMARY"===r.nodeName||t.hasAttribute("open"))&&(!t.parentElement||e(t.parentElement,t))}(e)&&(!r||b(e,r))&&(!(null==t?void 0:t.accept)||t.accept(e))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return(null==t?void 0:t.from)&&(i.currentNode=t.from),i}class S{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,r){let n=this.fastMap.get(null!=t?t:null);if(!n)return;let s=new C({scopeRef:e});n.addChild(s),s.parent=n,this.fastMap.set(e,s),r&&(s.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let r=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&b(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let n=t.children;r&&(r.removeChild(t),n.size>0&&n.forEach(e=>r&&r.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e,t;let r=new S;for(let n of this.traverse())r.addTreeNode(n.scopeRef,null!==(t=null===(e=n.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==t?t:null,n.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new C({scopeRef:null}),this.fastMap.set(null,this.root)}}class C{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let x=new S},88629:(e,t,r)=>{r.d(t,{I:()=>x});var n=r(34017),s=r(15586),i=r(47702),o=r(99323),u=r(41277),a=r(84403),l=class extends o.Q{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,u.T)(),this.options.experimental_prefetchInRender||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#n=void 0;#s=void 0;#i=void 0;#o;#u;#r;#t;#a;#l;#c;#d;#h;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#n.addObserver(this),c(this.#n,this.options)?this.#v():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#n,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#n,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#m(),this.#n.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#n;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,a.Eh)(this.options.enabled,this.#n))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#y(),this.#n.setOptions(this.options),r._defaulted&&!(0,a.f8)(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#n,observer:this});let s=this.hasListeners();s&&h(this.#n,n,this.options,r)&&this.#v(),this.updateResult(t),s&&(this.#n!==n||(0,a.Eh)(this.options.enabled,this.#n)!==(0,a.Eh)(r.enabled,this.#n)||(0,a.d2)(this.options.staleTime,this.#n)!==(0,a.d2)(r.staleTime,this.#n))&&this.#E();let i=this.#T();s&&(this.#n!==n||(0,a.Eh)(this.options.enabled,this.#n)!==(0,a.Eh)(r.enabled,this.#n)||i!==this.#f)&&this.#g(i)}getOptimisticResult(e){let t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return(0,a.f8)(this.getCurrentResult(),r)||(this.#i=r,this.#u=this.options,this.#o=this.#n.state),r}getCurrentResult(){return this.#i}trackResult(e,t){let r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#n}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#v({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#v(e){this.#y();let t=this.#n.fetch(this.options,e);return e?.throwOnError||(t=t.catch(a.lQ)),t}#E(){this.#R();let e=(0,a.d2)(this.options.staleTime,this.#n);if(a.S$||this.#i.isStale||!(0,a.gn)(e))return;let t=(0,a.j3)(this.#i.dataUpdatedAt,e);this.#d=setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#T(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#n):this.options.refetchInterval)??!1}#g(e){this.#m(),this.#f=e,!a.S$&&!1!==(0,a.Eh)(this.options.enabled,this.#n)&&(0,a.gn)(this.#f)&&0!==this.#f&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||n.m.isFocused())&&this.#v()},this.#f))}#b(){this.#E(),this.#g(this.#T())}#R(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#m(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r;let n=this.#n,s=this.options,o=this.#i,l=this.#o,d=this.#u,p=e!==n?e.state:this.#s,{state:v}=e,b={...v},R=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&c(e,t),u=r&&h(e,n,t,s);(o||u)&&(b={...b,...(0,i.k)(v.data,e.options)}),"isRestoring"===t._optimisticResults&&(b.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:E}=b;if(t.select&&void 0!==b.data){if(o&&b.data===l?.data&&t.select===this.#a)r=this.#l;else try{this.#a=t.select,r=t.select(b.data),r=(0,a.pl)(o?.data,r,t),this.#l=r,this.#t=null}catch(e){this.#t=e}}else r=b.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===E){let e;if(o?.isPlaceholderData&&t.placeholderData===d?.placeholderData)e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(E="success",r=(0,a.pl)(o?.data,e,t),R=!0)}this.#t&&(m=this.#t,r=this.#l,y=Date.now(),E="error");let T="fetching"===b.fetchStatus,g="pending"===E,N="error"===E,Q=g&&T,I=void 0!==r,S={status:E,fetchStatus:b.fetchStatus,isPending:g,isSuccess:"success"===E,isError:N,isInitialLoading:Q,isLoading:Q,data:r,dataUpdatedAt:b.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!g,isLoadingError:N&&!I,isPaused:"paused"===b.fetchStatus,isPlaceholderData:R,isRefetchError:N&&I,isStale:f(e,t),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===S.status?e.reject(S.error):void 0!==S.data&&e.resolve(S.data)},r=()=>{t(this.#r=S.promise=(0,u.T)())},s=this.#r;switch(s.status){case"pending":e.queryHash===n.queryHash&&t(s);break;case"fulfilled":("error"===S.status||S.data!==s.value)&&r();break;case"rejected":("error"!==S.status||S.error!==s.reason)&&r()}}return S}updateResult(e){let t=this.#i,r=this.createResult(this.#n,this.options);if(this.#o=this.#n.state,this.#u=this.options,void 0!==this.#o.data&&(this.#c=this.#n),(0,a.f8)(r,t))return;this.#i=r;let n={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#p.size)return!0;let n=new Set(r??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#i).some(e=>this.#i[e]!==t[e]&&n.has(e))})()&&(n.listeners=!0),this.#N({...n,...e})}#y(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#n)return;let t=this.#n;this.#n=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#N(e){s.j.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#n,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,a.Eh)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,a.Eh)(t.enabled,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&f(e,t)}return!1}function h(e,t,r,n){return(e!==t||!1===(0,a.Eh)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,a.Eh)(t.enabled,e)&&e.isStaleByTime((0,a.d2)(t.staleTime,e))}var p=r(12115),v=r(35906);r(95155);var b=p.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),R=()=>p.useContext(b);function m(){}var y=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},E=e=>{p.useEffect(()=>{e.clearReset()},[e])},T=e=>{let{result:t,errorResetBoundary:r,throwOnError:n,query:s,suspense:i}=e;return t.isError&&!r.isReset()&&!t.isFetching&&s&&(i&&void 0===t.data||function(e,t){return"function"==typeof e?e(...t):!!e}(n,[t.error,s]))},g=p.createContext(!1),N=()=>p.useContext(g);g.Provider;var Q=e=>{let t=e.staleTime;e.suspense&&(e.staleTime="function"==typeof t?(...e)=>Math.max(t(...e),1e3):Math.max(t??1e3,1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))},I=(e,t)=>e.isLoading&&e.isFetching&&!t,S=(e,t)=>e?.suspense&&t.isPending,C=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function x(e,t){return function(e,t,r){var n,i,o,u,l;let c=(0,v.jE)(r),d=N(),h=R(),f=c.defaultQueryOptions(e);null===(i=c.getDefaultOptions().queries)||void 0===i||null===(n=i._experimental_beforeQuery)||void 0===n||n.call(i,f),f._optimisticResults=d?"isRestoring":"optimistic",Q(f),y(f,h),E(h);let b=!c.getQueryCache().get(f.queryHash),[g]=p.useState(()=>new t(c,f)),x=g.getOptimisticResult(f),O=!d&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=O?g.subscribe(s.j.batchCalls(e)):m;return g.updateResult(),t},[g,O]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(f,{listeners:!1})},[f,g]),S(f,x))throw C(f,g,h);if(T({result:x,errorResetBoundary:h,throwOnError:f.throwOnError,query:c.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;if(null===(u=c.getDefaultOptions().queries)||void 0===u||null===(o=u._experimental_afterQuery)||void 0===o||o.call(u,f,x),f.experimental_prefetchInRender&&!a.S$&&I(x,d)){let e=b?C(f,g,h):null===(l=c.getQueryCache().get(f.queryHash))||void 0===l?void 0:l.promise;null==e||e.catch(m).finally(()=>{g.updateResult()})}return f.notifyOnChangeProps?x:g.trackResult(x)}(e,l,t)}}}]);